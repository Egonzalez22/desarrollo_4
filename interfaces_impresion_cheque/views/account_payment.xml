<odoo>
    <data>
        <record model="ir.ui.view" id="interfaces_impresion_cheque.view_account_payment_form_cheque">
            <field name="name">account_payment_cheque</field>
            <field name="model">account.payment</field>
            <field name="inherit_id" ref="account.view_account_payment_form"/>
            <field name="arch" type="xml">
                <xpath expr="//header" position="inside">
                    <button name="print_cheque_diferido" string="Imprimir Cheque Diferido" type="object"
                            class="oe_highlight" groups="interfaces_impresion_cheque.puede_imprimir_cheques"
                            attrs="{'invisible':['|','|',('state','in',['draft','cancel']),('fecha_inicio_vencimiento','=',True),('print_count','=',1)]}"/>
                    <button name="print_cheque_vista" string="Imprimir Cheque A la vista" type="object"
                            class="oe_highlight" groups="interfaces_impresion_cheque.puede_imprimir_cheques"
                            attrs="{'invisible':['|','|',('state','in',['draft','cancel']),('fecha_inicio_vencimiento','!=',True),('print_count','=',1)]}"/>
                    <button name="permitir_reimpresion" string="Permitir reimpresión de comprobantes" type="object"
                            class="oe_highlight" groups="interfaces_impresion_cheque.grupo_reimprimir_comprobantes"
                            attrs="{'invisible':[('print_count','=',0)]}"/>

                    <button name="print_cheque_vista_itau_sudameris" string="Imprimir Cheque A la vista - Itaú, Sudameris" type="object"
                            class="oe_highlight" groups="interfaces_impresion_cheque.puede_imprimir_cheques"
                            attrs="{'invisible':['|','|',('state','in',['draft','cancel']),('fecha_inicio_vencimiento','!=',True),('print_count','=',1)]}"/>
                    
                    <button name="print_cheque_vista_vision" string="Imprimir Cheque A la vista - Itaú, Sudameris" type="object"
                            class="oe_highlight" groups="interfaces_impresion_cheque.puede_imprimir_cheques"
                            attrs="{'invisible':['|','|',('state','in',['draft','cancel']),('fecha_inicio_vencimiento','!=',True),('print_count','=',1)]}"/>
                    <button name="print_cheque_diferido_v2" string="Imprimir Cheque Diferido V2" type="object"
                            class="oe_highlight" groups="interfaces_impresion_cheque.puede_imprimir_cheques"
                            attrs="{'invisible':['|','|',('state','in',['draft','cancel']),('fecha_inicio_vencimiento','=',True),('print_count','=',1)]}"/>

                </xpath>
                <xpath expr="//field[@name='partner_id']" position="after">
                    <field name="print_count" invisible="True"/>
                    <field name="fecha_inicio_vencimiento" invisible="True"/>
                    <field name="es_portador"/>

                </xpath>
                <xpath expr="//button[@name='action_post']" position="after">
                     <button string="Impresión Directa" class="oe_highlight" type="object" name="invoice_print_escpos" />
                </xpath>
                <xpath expr="//field[@name='nro_cuenta']" position="replace">
                    <field name="nro_cuenta" invisible="1" attrs="{'readonly':[('state','!=','draft')]}"/>
                    <field name="nro_cuenta_id" attrs="{'readonly':[('state','!=','draft')], 'invisible':[('tipo_pago','not in',['Cheque'])]}"/>

                </xpath>
            </field>
        </record>
    </data>
</odoo>